git:
  depth: false
  quiet: true
language: java
jdk: openjdk8
sudo: required
addons:
  apt:
    packages:
      - sudo
      - lsof
      - curl
      - bash
install: true
before_install:
  - source <(curl -s https://raw.githubusercontent.com/daggerok/bash-functions/master/main.bash)
  - stop_any 80
script:
  - ./gradlew hello
cache:
  npm: true
  packages: true
  directories:
    - ./node_modules
    - ~/.gradle
notifications:
  email: false
before_deploy:
  - ./gradlew npm_run_build
deploy:
  provider: pages
  skip-cleanup: true
  local_dir: ./.vuepress/dist
  github-token: $GITHUB_TOKEN # a token generated on github allowing travis to push code on you repository
  keep-history: true
  on:
    branch: release
